
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module AUREA.packager.DataPackager</title>
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong><a href="AUREA.html"><font color="#ffffff">AUREA</font></a>.<a href="AUREA.packager.html"><font color="#ffffff">packager</font></a>.DataPackager</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/home/earls3/Price/AUREA/build/lib.linux-x86_64-2.7/AUREA/packager/DataPackager.py">/home/earls3/Price/AUREA/build/lib.linux-x86_64-2.7/AUREA/packager/DataPackager.py</a></font></td></tr></table>
    <p><tt>Copyright&nbsp;(C)&nbsp;2011&nbsp;&nbsp;N.D.&nbsp;Price&nbsp;Lab<br>
&nbsp;<br>
This&nbsp;program&nbsp;is&nbsp;free&nbsp;software:&nbsp;you&nbsp;can&nbsp;redistribute&nbsp;it&nbsp;and/or&nbsp;modify<br>
it&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;GNU&nbsp;Affero&nbsp;General&nbsp;Public&nbsp;License&nbsp;as&nbsp;published&nbsp;by<br>
the&nbsp;Free&nbsp;Software&nbsp;Foundation,&nbsp;either&nbsp;version&nbsp;3&nbsp;of&nbsp;the&nbsp;License,&nbsp;or<br>
(at&nbsp;your&nbsp;option)&nbsp;any&nbsp;later&nbsp;version.<br>
This&nbsp;program&nbsp;is&nbsp;distributed&nbsp;in&nbsp;the&nbsp;hope&nbsp;that&nbsp;it&nbsp;will&nbsp;be&nbsp;useful,<br>
but&nbsp;WITHOUT&nbsp;ANY&nbsp;WARRANTY;&nbsp;without&nbsp;even&nbsp;the&nbsp;implied&nbsp;warranty&nbsp;of<br>
MERCHANTABILITY&nbsp;or&nbsp;FITNESS&nbsp;FOR&nbsp;A&nbsp;PARTICULAR&nbsp;PURPOSE.&nbsp;&nbsp;See&nbsp;the<br>
GNU&nbsp;Affero&nbsp;General&nbsp;Public&nbsp;License&nbsp;for&nbsp;more&nbsp;details.<br>
&nbsp;<br>
You&nbsp;should&nbsp;have&nbsp;received&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;GNU&nbsp;Affero&nbsp;General&nbsp;Public&nbsp;License<br>
along&nbsp;with&nbsp;this&nbsp;program.&nbsp;&nbsp;If&nbsp;not,&nbsp;see&nbsp;&lt;<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="AUREA.learner.dirac.html">AUREA.learner.dirac</a><br>
</td><td width="25%" valign=top><a href="pyBabel.html">pyBabel</a><br>
</td><td width="25%" valign=top></td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="AUREA.packager.DataPackager.html#dataPackager">dataPackager</a>
</font></dt></dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="dataPackager">class <strong>dataPackager</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>This&nbsp;class&nbsp;takes&nbsp;a&nbsp;set&nbsp;of&nbsp;data&nbsp;tables&nbsp;and&nbsp;generates&nbsp;data&nbsp;vectors&nbsp;and&nbsp;class&nbsp;vectors&nbsp;(and&nbsp;geneNet&nbsp;vectors&nbsp;if&nbsp;wanted)&nbsp;suitable&nbsp;for&nbsp;processing&nbsp;by&nbsp;the&nbsp;algorithms.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="dataPackager-__init__"><strong>__init__</strong></a>(self, merge_cache<font color="#909090">='data'</font>)</dt></dl>

<dl><dt><a name="dataPackager-addDataTable"><strong>addDataTable</strong></a>(self, dataTable)</dt><dd><tt>This&nbsp;adds&nbsp;a&nbsp;set&nbsp;of&nbsp;tables&nbsp;from&nbsp;which&nbsp;we&nbsp;will&nbsp;create&nbsp;our&nbsp;data&nbsp;vector.<br>
The&nbsp;tables&nbsp;should&nbsp;come&nbsp;from&nbsp;DataTable&nbsp;class.<br>
Data&nbsp;table&nbsp;names&nbsp;are&nbsp;accessible&nbsp;through&nbsp;dataTable.dt_id</tt></dd></dl>

<dl><dt><a name="dataPackager-addGeneNetwork"><strong>addGeneNetwork</strong></a>(self, geneNetwork)</dt><dd><tt>Adds&nbsp;a&nbsp;gene&nbsp;network&nbsp;object.</tt></dd></dl>

<dl><dt><a name="dataPackager-addSynonyms"><strong>addSynonyms</strong></a>(self, file)</dt><dd><tt>Adds&nbsp;a&nbsp;table&nbsp;of&nbsp;synonyms&nbsp;to&nbsp;allow&nbsp;cross&nbsp;referencing&nbsp;between&nbsp;geneNets&nbsp;and&nbsp;datasets.</tt></dd></dl>

<dl><dt><a name="dataPackager-addToClassification"><strong>addToClassification</strong></a>(self, classToAddTo, data_table, sample)</dt><dd><tt>Adds&nbsp;a&nbsp;sample&nbsp;to&nbsp;a&nbsp;class.<br>
classToAddTo&nbsp;(string)&nbsp;is&nbsp;a&nbsp;string&nbsp;that&nbsp;was&nbsp;added&nbsp;with&nbsp;createClassification.<br>
data_table&nbsp;(string)&nbsp;is&nbsp;the&nbsp;dt_id&nbsp;from&nbsp;a&nbsp;DataTable&nbsp;object<br>
sample&nbsp;(string)&nbsp;is&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;sample&nbsp;to&nbsp;be&nbsp;added.</tt></dd></dl>

<dl><dt><a name="dataPackager-buildDataVector"><strong>buildDataVector</strong></a>(self, type)</dt><dd><tt>This&nbsp;builds&nbsp;the&nbsp;data&nbsp;vector&nbsp;from&nbsp;the&nbsp;given&nbsp;information</tt></dd></dl>

<dl><dt><a name="dataPackager-clearClassSamples"><strong>clearClassSamples</strong></a>(self)</dt><dd><tt>Removes&nbsp;the&nbsp;samples&nbsp;from&nbsp;the&nbsp;classifications&nbsp;list</tt></dd></dl>

<dl><dt><a name="dataPackager-clearClassification"><strong>clearClassification</strong></a>(self)</dt><dd><tt>Clears&nbsp;the&nbsp;classification&nbsp;settings</tt></dd></dl>

<dl><dt><a name="dataPackager-clearData"><strong>clearData</strong></a>(self)</dt><dd><tt>Clears&nbsp;the&nbsp;gene&nbsp;and&nbsp;probe&nbsp;data&nbsp;vectors</tt></dd></dl>

<dl><dt><a name="dataPackager-clearUnclassified"><strong>clearUnclassified</strong></a>(self)</dt><dd><tt>Clears&nbsp;out&nbsp;data&nbsp;relating&nbsp;to&nbsp;an&nbsp;<br>
unclassified&nbsp;sample&nbsp;(sample&nbsp;to&nbsp;be&nbsp;classified)</tt></dd></dl>

<dl><dt><a name="dataPackager-createClassVector"><strong>createClassVector</strong></a>(self)</dt><dd><tt>Goes&nbsp;through&nbsp;the&nbsp;classification&nbsp;vector&nbsp;and&nbsp;puts&nbsp;the&nbsp;classSize&nbsp;in&nbsp;the&nbsp;order&nbsp;they<br>
will&nbsp;be&nbsp;presented&nbsp;in&nbsp;the&nbsp;data&nbsp;vector</tt></dd></dl>

<dl><dt><a name="dataPackager-createClassification"><strong>createClassification</strong></a>(self, className)</dt><dd><tt>This&nbsp;creates&nbsp;a&nbsp;new&nbsp;class&nbsp;we&nbsp;can&nbsp;add&nbsp;samples&nbsp;to&nbsp;that&nbsp;is&nbsp;identified&nbsp;by&nbsp;the&nbsp;string&nbsp;provided&nbsp;as&nbsp;className</tt></dd></dl>

<dl><dt><a name="dataPackager-createDataVector"><strong>createDataVector</strong></a>(self)</dt><dd><tt>Builds&nbsp;the&nbsp;probe&nbsp;and&nbsp;gene&nbsp;data&nbsp;vectors</tt></dd></dl>

<dl><dt><a name="dataPackager-createGeneDataVector"><strong>createGeneDataVector</strong></a>(self)</dt><dd><tt>Creates&nbsp;self.<strong>gene_data_vector</strong></tt></dd></dl>

<dl><dt><a name="dataPackager-createGeneNetVector"><strong>createGeneNetVector</strong></a>(self, minNetSize<font color="#909090">=10</font>)</dt><dd><tt>This&nbsp;builds&nbsp;the&nbsp;geneNet&nbsp;Vector&nbsp;from&nbsp;the&nbsp;provided&nbsp;information.&nbsp;&nbsp;It&nbsp;uses&nbsp;gene&nbsp;synonyms&nbsp;if&nbsp;available</tt></dd></dl>

<dl><dt><a name="dataPackager-createProbeDataVector"><strong>createProbeDataVector</strong></a>(self)</dt><dd><tt>creates&nbsp;self.<strong>probe_data_vector</strong></tt></dd></dl>

<dl><dt><a name="dataPackager-createUnclassifiedDataVector"><strong>createUnclassifiedDataVector</strong></a>(self, type)</dt><dd><tt>This&nbsp;takes&nbsp;the&nbsp;unclassified&nbsp;data&nbsp;list&nbsp;and&nbsp;converts&nbsp;it&nbsp;to&nbsp;a&nbsp;vector&nbsp;<br>
of&nbsp;doubles.<br>
type&nbsp;is&nbsp;gene/probe</tt></dd></dl>

<dl><dt><a name="dataPackager-getClassVector"><strong>getClassVector</strong></a>(self)</dt><dd><tt>This&nbsp;returns&nbsp;an&nbsp;intVector&nbsp;with&nbsp;the&nbsp;number&nbsp;of&nbsp;genes&nbsp;in&nbsp;each&nbsp;class.&nbsp;&nbsp;This&nbsp;should&nbsp;map&nbsp;to&nbsp;columns&nbsp;in&nbsp;the&nbsp;dataVector,&nbsp;for&nbsp;example&nbsp;a&nbsp;vector&nbsp;containing&nbsp;(4,5,8)&nbsp;means&nbsp;that&nbsp;the&nbsp;first&nbsp;class&nbsp;is&nbsp;the&nbsp;first&nbsp;4&nbsp;columns,&nbsp;the&nbsp;second&nbsp;class&nbsp;is&nbsp;the&nbsp;5th-8th&nbsp;column,&nbsp;etc.)&nbsp;&nbsp;Bear&nbsp;in&nbsp;mind&nbsp;I'm&nbsp;a&nbsp;programmer&nbsp;and&nbsp;count&nbsp;from&nbsp;zero.</tt></dd></dl>

<dl><dt><a name="dataPackager-getClassifications"><strong>getClassifications</strong></a>(self)</dt><dd><tt>Returns&nbsp;the&nbsp;set&nbsp;of&nbsp;classifications&nbsp;we&nbsp;are&nbsp;training&nbsp;on<br>
organized&nbsp;as<br>
[(className1,&nbsp;[&nbsp;(table,&nbsp;sample_id),&nbsp;(table,&nbsp;sample_id)&nbsp;...]),<br>
&nbsp;(className2,&nbsp;[&nbsp;(table,&nbsp;sample_id),&nbsp;(table,&nbsp;sample_id)&nbsp;...])]<br>
returns&nbsp;[]&nbsp;if&nbsp;classifications&nbsp;have&nbsp;not&nbsp;been&nbsp;set&nbsp;yet</tt></dd></dl>

<dl><dt><a name="dataPackager-getDataCount"><strong>getDataCount</strong></a>(self)</dt><dd><tt>Returns&nbsp;a&nbsp;tuple&nbsp;with<br>
(num&nbsp;genes&nbsp;in&nbsp;merge,&nbsp;numprobes&nbsp;in&nbsp;merge)</tt></dd></dl>

<dl><dt><a name="dataPackager-getDataVector"><strong>getDataVector</strong></a>(self, type)</dt><dd><tt>This&nbsp;generates&nbsp;a&nbsp;tuple&nbsp;containing&nbsp;(a&nbsp;vector&nbsp;of&nbsp;floats,&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;columns(number&nbsp;of&nbsp;genes/probes&nbsp;in&nbsp;this&nbsp;context.<br>
It&nbsp;uses&nbsp;the&nbsp;dirac&nbsp;library&nbsp;to&nbsp;form&nbsp;the&nbsp;floatVector.</tt></dd></dl>

<dl><dt><a name="dataPackager-getGeneName"><strong>getGeneName</strong></a>(self, index, type<font color="#909090">='gene'</font>)</dt><dd><tt>Given&nbsp;an&nbsp;index&nbsp;into&nbsp;either&nbsp;the&nbsp;probe&nbsp;or&nbsp;gene&nbsp;array(determined&nbsp;by&nbsp;the&nbsp;type&nbsp;parameter,)&nbsp;return&nbsp;the&nbsp;human&nbsp;readable&nbsp;name&nbsp;of&nbsp;the&nbsp;probe/gene.</tt></dd></dl>

<dl><dt><a name="dataPackager-getGeneNameFromProbeName"><strong>getGeneNameFromProbeName</strong></a>(self, probe_name, dt_indx<font color="#909090">=0</font>)</dt><dd><tt>Given&nbsp;a&nbsp;probe&nbsp;name<br>
return&nbsp;the&nbsp;gene&nbsp;name</tt></dd></dl>

<dl><dt><a name="dataPackager-getGeneNetCount"><strong>getGeneNetCount</strong></a>(self)</dt></dl>

<dl><dt><a name="dataPackager-getGeneNetDataMatrixStart"><strong>getGeneNetDataMatrixStart</strong></a>(self)</dt><dd><tt>Returns&nbsp;a&nbsp;list&nbsp;that&nbsp;details&nbsp;where&nbsp;in&nbsp;the&nbsp;data&nbsp;matrices&nbsp;a&nbsp;given<br>
gene&nbsp;network&nbsp;starts&nbsp;and&nbsp;stops&nbsp;(based&nbsp;on&nbsp;size&nbsp;nchoose2)</tt></dd></dl>

<dl><dt><a name="dataPackager-getGeneNetName"><strong>getGeneNetName</strong></a>(self, geneNetIndex)</dt><dd><tt>Given&nbsp;the&nbsp;index&nbsp;into&nbsp;the&nbsp;geneNetwork&nbsp;array,&nbsp;return&nbsp;the&nbsp;human&nbsp;readable&nbsp;name&nbsp;of&nbsp;the&nbsp;network.</tt></dd></dl>

<dl><dt><a name="dataPackager-getGeneNetVector"><strong>getGeneNetVector</strong></a>(self, minNumberGenes<font color="#909090">=3</font>)</dt><dd><tt>This&nbsp;returns&nbsp;a&nbsp;tuple&nbsp;containing&nbsp;(genelocations&nbsp;relative&nbsp;to&nbsp;data&nbsp;vector&nbsp;in&nbsp;intVector,&nbsp;numgenes&nbsp;in&nbsp;each&nbsp;set&nbsp;in&nbsp;intVector&nbsp;format).</tt></dd></dl>

<dl><dt><a name="dataPackager-getGeneNetVectorRange"><strong>getGeneNetVectorRange</strong></a>(self, net_number)</dt><dd><tt>Returns&nbsp;the&nbsp;start&nbsp;and&nbsp;number&nbsp;of&nbsp;elements&nbsp;in&nbsp;the</tt></dd></dl>

<dl><dt><a name="dataPackager-getProbeName"><strong>getProbeName</strong></a>(self, probe_index, tbl_indx<font color="#909090">=0</font>)</dt></dl>

<dl><dt><a name="dataPackager-getTable"><strong>getTable</strong></a>(self, table_id)</dt><dd><tt>Returns&nbsp;table&nbsp;object&nbsp;that&nbsp;has&nbsp;that&nbsp;table_id</tt></dd></dl>

<dl><dt><a name="dataPackager-getTables"><strong>getTables</strong></a>(self)</dt><dd><tt>Returns&nbsp;list&nbsp;of&nbsp;data_table&nbsp;objects</tt></dd></dl>

<dl><dt><a name="dataPackager-getUnclassifiedDataVector"><strong>getUnclassifiedDataVector</strong></a>(self, type)</dt></dl>

<dl><dt><a name="dataPackager-mergeTables"><strong>mergeTables</strong></a>(self)</dt><dd><tt>This&nbsp;function&nbsp;merges&nbsp;the&nbsp;gene&nbsp;lookup&nbsp;tables</tt></dd></dl>

<dl><dt><a name="dataPackager-setMergeCache"><strong>setMergeCache</strong></a>(self, cache_dir)</dt><dd><tt>This&nbsp;is&nbsp;for&nbsp;setting&nbsp;the&nbsp;directory&nbsp;that&nbsp;stores&nbsp;cached&nbsp;merge-tables.<br>
This&nbsp;value&nbsp;is&nbsp;passed&nbsp;to&nbsp;pyBabel.</tt></dd></dl>

<dl><dt><a name="dataPackager-setUnclassified"><strong>setUnclassified</strong></a>(self, data_table, sample)</dt><dd><tt>Create&nbsp;unclassified&nbsp;tuple&nbsp;containing&nbsp;table&nbsp;and&nbsp;sample&nbsp;name</tt></dd></dl>

<dl><dt><a name="dataPackager-writeToCSV"><strong>writeToCSV</strong></a>(self, filename, key<font color="#909090">='gene'</font>)</dt><dd><tt>Writes&nbsp;the&nbsp;current&nbsp;data&nbsp;from&nbsp;your&nbsp;chosen&nbsp;classes&nbsp;to&nbsp;csv&nbsp;format.<br>
With&nbsp;given&nbsp;key&nbsp;(gene/probe)<br>
Note:&nbsp;you&nbsp;must&nbsp;provide&nbsp;a&nbsp;valid&nbsp;path&nbsp;and&nbsp;filename&nbsp;to&nbsp;this&nbsp;function<br>
&nbsp;<br>
Thats&nbsp;on&nbsp;you</tt></dd></dl>

</td></tr></table></td></tr></table>
</body></html>